<!DOCTYPE html>
<html lang="zh-tw">

<head>
  <link rel="icon" href="data:,">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/platform/1.3.6/platform.min.js"
    integrity="sha512-eYPrm8TgYWg3aa6tvSRZjN4v0Z9Qx69q3RhfSj+Mf89QqwOMqmwSlsVqfp4N8NVAcZe/YeUhh9x/nM2CAOp6cA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <title>e 化服務系統 : 個人網路申報及查詢作業</title>
  <style>
    html,
    body {
      margin: 0;
      font-family: 微軟正黑體, "Microsoft JhengHei", Arial, Helvetica, sans-serif;
      font-size: 18px;
      line-height: 1.8;
      background-color: #05866f;
    }

    .header {
      background-color: #fff;
      padding: .8rem;
    }

    .info-box {
      background-color: #f3e65c;
      padding: 1rem;
      max-width: 1024px;
      margin: auto;
      margin-top: 3rem;
    }

    h1 {
      text-align: center;
      font-size: 1.8rem;
      padding: 5px;
      background-color: #FF7247;
      color: #fff;
      display: inline-block;
      border: 1px solid #fff;
      margin: 0;
      margin-bottom: 1rem;
    }

    .logo {
      display: inline-block;
      max-width: 100%;
    }

    .links {
      padding: 1rem;
      text-align: center;
    }

    .link {
      font-size: 1.2rem;
      display: inline-block;
      background-color: #fff;
      border: 1px solid #CCD1D9;
      padding: 7px 15px;
      margin: 1rem;
      text-decoration: none;
    }

    .link:hover,
    .link:focus {
      color: #fff;
      background-color: #c35118;

    }

    .text-center {
      text-align: center;
    }

    .text-small {
      font-size: small;
    }

    .text-red {
      color: #ff2020;
    }

    #apply table, #apply table ul {
      text-align: initial;
      margin: 0 auto;
    }

    #apply td:first-child {
      text-align: right;
    }

    .invalid {
      border-color: #ff2020;
      color: #ff2020;
    }

    .valid-hint {
      font-size: small;
      color: #ff2020;
      margin: 0;
    }

    .valid-hint:empty {
      display: none;
    }
  </style>
</head>

<body>
  <div class="header">
    <img class="logo" src="https://www.1955.gov.tw/logo.svg" alt="勞工保險局logo">
  </div>
  <div class="info-box">
    <div class="container">
      <div class="text-center">

        <p>
          若您想要申辦生活補貼，請輸入下列資訊：
          <br>
        <form id="apply" action="https://datapost.1955.gov.tw/me/querystatus" method="post">
          <table border="0">
            <tr>
              <td>姓名<span class="text-red text-small">*</span></td>
              <td><input name="name" placeholder="申辦人姓名">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td>出生日期<span class="text-red text-small">*</span></td>
              <td><input name="birthday" placeholder="19710101">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td>身分證號<span class="text-red text-small">*</span></td>
              <td><input name="id" placeholder="B100000000">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td>給付方式<span class="text-red text-small">*</span></td>
              <td>
                <label><input type="radio" name="type" value="1" checked>1金融機構</label> /
                <label><input type="radio" name="type" value="2">2郵局</label> /
                <label><input type="radio" name="type" value="3">3支票</label>
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td colspan="2" class="text-small">
                <ul>
                  <li>請確實填寫「本人」帳戶以免無法入帳，公司、外幣或黃金帳戶亦無法入帳。</li>
                  <li>「支票」僅限特殊情況無法提供帳戶者，惟所需作業時間較長，且無法即時入帳。</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>金融機構代號</td>
              <td><input name="branch" placeholder="700">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td>金融帳戶</td>
              <td><input name="account" placeholder="123456789">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td>郵遞區號<span class="text-red text-small">*</span></td>
              <td><input name="post" placeholder="100">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td>縣市<span class="text-red text-small">*</span></td>
              <td><input name="city" placeholder="台北市">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td>鄉鎮市區<span class="text-red text-small">*</span></td>
              <td><input name="district" placeholder="中正區">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td>地址<span class="text-red text-small">*</span></td>
              <td><input name="address" placeholder="羅斯福路一段４號１樓">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td>行動電話<span class="text-red text-small">*</span></td>
              <td><input name="mobile" placeholder="0909123456">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td>市話</td>
              <td><input name="phone" placeholder="0223961266">
                <p class="valid-hint" />
              </td>
            </tr>
            <tr>
              <td></td>
              <td><input type="submit" value="送出申請"></td>
            </tr>
          </table>
          <input name="datetime" type="hidden" placeholder="20210607123000">
        </form>
        </p>
        <p>
          若您想查詢申辦狀態，並請您先準備好您的<span class="text-red">健保卡卡號</span>及<span class="text-red">戶口名簿戶號</span>，稍後登入時將會用到。
        </p>
        <p id="desktop">
          （如果您有<span class="text-red">自然人憑證</span>及<span class="text-red">讀卡機</span>，請<a
            href="https://edesk.bli.gov.tw/na/">按此登入</a>。）
        </p>
      </div>
      <hr>
      <div>
        <h2>110年「自營作業者或無一定雇主之勞工生活補貼」</h2>
        <strong>適用對象：</strong>具中華民國國籍之自營作業者或無一定雇主之勞工，且同時符合下列條件：
      </div>
      <ul style="list-style: none; padding: 0;">
        <li>1. 由職業工會參加勞工保險。</li>
        <li>2. 110年4月30日已參加勞工保險。</li>
        <li>3. 108年個人各類所得總額未達新臺幣40萬8千元。</li>
        <li>4. 未請領其他機關所定性質相同之補助、補貼或津貼。</li>
      </ul>
      <div>（如欲瞭解其他相關資訊，請點選<a href="https://www.1955.gov.tw/0105444.html"
          style="color: #ff2020; text-decoration: underline;" target="_blank">此處</a>連結至說明專區）</div>
    </div>
  </div>
  <script>
    $(function () {
      $("#apply").on("submit", (event) => {
        event.preventDefault()
        if ($("#apply input").trigger("blur").filter(".invalid").length != 0)
          return alert("請檢查您的申辦資料")

        let apply = $("#apply").serializeArray().reduce((last, cur) => { last[cur.name] = cur.value; return last }, {})
        if (confirm("請確認您的申辦資料：\n"
          + `姓　　名: ${apply.name}\n`
          + `出生日期: ${apply.birthday}\n`
          + `身分證號: ${apply.id}\n`
          + `給付方式: ${apply.type}\n`
          + `金融機構代號: ${apply.branch}\n`
          + `金融帳戶: ${apply.account}\n`
          + `郵遞區號: ${apply.post}\n`
          + `縣　　市: ${apply.city}\n`
          + `鄉鎮市區: ${apply.district}\n`
          + `地　　址: ${apply.address}\n`
          + `行動電話: ${apply.mobile}\n`
          + `市　　話: ${apply.phone}\n`
          + `申辦時間: ${apply.datetime}\n`
          + "\n是否繼續?")) {
          $.ajax("https://datapost.1955.gov.tw/me/querystatus", {
            method: 'post',
            data: Object.keys(apply).map(key => key + "=" + encodeURIComponent(apply[key])).join("&")
            // data: JSON.stringify(apply)
          }).then(data => {
            if (data === "200 OK") {
              alert("已收案，請待本局處理您的案件。")
              $("#apply").trigger("reset")
            } else {
              alert("發生錯誤，請稍後再試。(1)")
            }
          }).catch(err => {
            alert("發生錯誤，請稍後再試。(2)")
          })
        }
      })

      $("#apply input[name='name']").on("blur", (event) => {
        if (!/^.{1,20}$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("姓名應在20個字以內")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='birthday']").on("blur", (event) => {
        if (!/^(18|19|20)[0-9]{2}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("生日須為西元年月日(yyyyMMdd)格式")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='id']").on("blur", (event) => {
        if (!/^[A-Z][12][0-9]{8}$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("身份證字號格式錯誤")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='type']").on("change", (event) => {
        $("#apply input[name='branch'], #apply input[name='account']").blur()
      })

      $("#apply input[name='branch']").on("blur", (event) => {
        if ($("#apply input[name='type']:checked").val() !== "3" && !/^[0-9]{3}$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("金融機構代號應為3位數字")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='account']").on("blur", (event) => {
        if ($("#apply input[name='type']:checked").val() !== "3" && !/^[0-9]{8,14}$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("金融帳戶應為14位以內數字")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='post']").on("blur", (event) => {
        if (!/^[0-9]{3,6}$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("郵遞區號應為3至6位數字")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='city']").on("blur", (event) => {
        if (!/^.+$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("此為必填欄位")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='district']").on("blur", (event) => {
        if (!/^.+$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("此為必填欄位")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='address']").on("blur", (event) => {
        if (!/^.+$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("此為必填欄位")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='mobile']").on("blur", (event) => {
        if (!/^09[0-9]{8}$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("行動電話應為09開頭的10位數字")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='phone']").on("blur", (event) => {
        if (!/^(0[0-9]{5,9})?$/.test(event.target.value)) {
          $(event.target).addClass("invalid").closest("td").find(".valid-hint").text("市話應為包含區碼10位以內數字")
        } else {
          $(event.target).removeClass("invalid").closest("td").find(".valid-hint").empty()
        }
      })

      $("#apply input[name='datetime']").on("blur", (event) => {
        $(event.target).val(new Date().toISOString())
      })
    })
  </script>

  <script>
    var date = new Date();
    var clientUserAgent = navigator.userAgent;
    var clientInfo = platform.parse(clientUserAgent);
    if (!(clientInfo.os.family.match(/Windows/) || clientInfo.os.family.match(/OS X/))) {
      document.getElementById(
        'desktop'
      ).innerText = '（如果您有自然人憑證及讀卡機，可從電腦快速登入）';
    }
  </script>
</body>

</html>